<template>
    <section if:false={editing}>
        <div class="card">
            <div if:false={disableContinue} class="edit-icon" onclick={edit}>
                <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_939_31708)">
                        <path d="M13.9707 0.636719L12.5574 2.05005L12.084 2.52339L6.89737 7.71005L6.4707 10.9634L9.72404 10.5367L16.7974 3.46339L13.9707 0.636719ZM13.9707 1.57672L15.8574 3.46339L14.9174 4.41005L13.0307 2.52339L13.9707 1.57672ZM9.41737 9.90339L7.24404 10.1901L7.5307 8.01672L12.5574 2.99672L14.444 4.88339L9.41737 9.90339Z" fill="black"/>
                        <path d="M14.7969 7.97005V16.6367H0.796875V2.63672H10.1302V3.30339H1.46354V15.9701H14.1302V7.97005H14.7969Z" fill="black"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_939_31708">
                            <rect width="16" height="16" fill="white" transform="translate(0.796875 0.636719)"/>
                        </clipPath>
                    </defs>
                </svg>
            </div>
            <span class="close-title">{labels.prodTitle}</span>
            <div if:false={disableContinue} class="edit-infos">
                <span>{labels.prodIssues} {issues}</span>
                <span>{labels.prodDesc} {description}</span>
            </div>
        </div>
    </section>
    <section if:true={editing}>
        <section class="title-container">
            <div class="title">{labels.prodTitle}</div>
            <div class="subtitle">{labels.prodSubtitle}</div>
        </section>
        <div class="slds-grid slds-gutters">
            <div class="slds-col slds-size_1-of-1 field-container">
                <label>{labels.prodIssuesLabel}</label>
                <div class="issue-container">
                    <template for:each={issueValues} for:item="issueValue">
                        <div class="issue-field" key={issueValue.value} data-item={issueValue.value} onclick={selectIssue}>{issueValue.label}</div>
                    </template>
                </div>
            </div>
        </div>
        <div class="slds-grid slds-gutters">
            <div class="slds-col slds-size_1-of-1 field-container">
                <label>{labels.prodDescLabel}</label>
                <lightning-textarea name="description" class="field slds-m-top_small" required="true" variant="label-hidden" value={description} onchange={setField}></lightning-textarea>
            </div>
        </div>
        <div if:true={editing} class="slds-m-top_medium">
            <c-cag-button label={labels.continueBtn} variant="brand" disabled={disableContinue} onbuttonclick={saveProdIssue}></c-cag-button>
        </div>
    </section>
    
</template>